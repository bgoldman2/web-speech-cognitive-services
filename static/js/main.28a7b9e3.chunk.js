(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(269),a={AudioConfig:r.AudioConfig,OutputFormat:r.OutputFormat,ResultReason:r.ResultReason,SpeechConfig:r.SpeechConfig,SpeechRecognizer:r.SpeechRecognizer};t.default=a},188:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authorizationToken,n=e.credentials,r=e.looseEvent,i=e.looseEvents,l=e.region,f=void 0===l?"westus":l,h=e.subscriptionKey,b=(0,o.default)(e,u);"undefined"!==typeof r&&(console.warn('web-speech-cognitive-services: The option "looseEvent" should be named as "looseEvents".'),i=r);if(!n){if(!t&&!h)throw new Error("web-speech-cognitive-services: Credentials must be specified.");console.warn("web-speech-cognitive-services: We are deprecating authorizationToken, region, and subscriptionKey. Please use credentials instead. The deprecated option will be removed on or after 2020-11-14."),n=function(){var e=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,(0,c.default)(t);case 3:e.t1=e.sent,e.t2=f,e.t0={authorizationToken:e.t1,region:e.t2},e.next=13;break;case 8:return e.t3=f,e.next=11,(0,c.default)(h);case 11:e.t4=e.sent,e.t0={region:e.t3,subscriptionKey:e.t4};case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}return p(p({},b),{},{fetchCredentials:function(){var e=(0,s.default)(a.default.mark((function e(){var t,r,i,s,o,u,l,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)(n);case 2:if(t=e.sent,r=t.authorizationToken,i=t.customVoiceHostname,s=t.region,o=t.speechRecognitionHostname,u=t.speechSynthesisHostname,l=t.subscriptionKey,!(!r&&!l||r&&l)){e.next=13;break}throw new Error('web-speech-cognitive-services: Either "authorizationToken" or "subscriptionKey" must be provided.');case 13:if(s||o&&u){e.next=17;break}throw new Error('web-speech-cognitive-services: Either "region" or "speechRecognitionHostname" and "speechSynthesisHostname" must be set.');case 17:if(!s||!(i||o||u)){e.next=21;break}throw new Error('web-speech-cognitive-services: Only either "region" or "customVoiceHostname", "speechRecognitionHostname" and "speechSynthesisHostname" can be set.');case 21:if(!r){e.next=26;break}if("string"===typeof r){e.next=24;break}throw new Error('web-speech-cognitive-services: "authorizationToken" must be a string.');case 24:e.next=28;break;case 26:if("string"===typeof l){e.next=28;break}throw new Error('web-speech-cognitive-services: "subscriptionKey" must be a string.');case 28:return d&&l&&(console.warn("web-speech-cognitive-services: In production environment, subscription key should not be used, authorization token should be used instead."),d=!1),p=r?{authorizationToken:r}:{subscriptionKey:l},s?p.region=s:(p.customVoiceHostname=i,p.speechRecognitionHostname=o,p.speechSynthesisHostname=u),e.abrupt("return",p);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),looseEvents:i})};var a=r(n(19)),i=r(n(42)),s=r(n(20)),o=r(n(499)),c=r(n(501)),u=["authorizationToken","credentials","looseEvent","looseEvents","region","subscriptionKey"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=!0},189:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29)),i=r(n(34)),s=function(){function e(t){var n=t.gender,r=t.lang,i=t.voiceURI;(0,a.default)(this,e),this._default=!1,this._gender=n,this._lang=r,this._localService=!1,this._name=i,this._voiceURI=i}return(0,i.default)(e,[{key:"default",get:function(){return this._default}},{key:"gender",get:function(){return this._gender}},{key:"lang",get:function(){return this._lang}},{key:"localService",get:function(){return this._localService}},{key:"name",get:function(){return this._name}},{key:"voiceURI",get:function(){return this._voiceURI}}]),e}();t.default=s},190:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29)),i=r(n(65)),s=r(n(66)),o=r(n(67));function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,o.default)(e);if(t){var a=(0,o.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var u=function(e){(0,i.default)(n,e);var t=c(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return n}(n(83).Event);t.default=u},257:function(e,t,n){"use strict";var r=n(61);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSpeechRecognitionPonyfillFromRecognizer",{enumerable:!0,get:function(){return a.createSpeechRecognitionPonyfillFromRecognizer}}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(258));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var s=a.default;t.default=s},258:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createSpeechRecognitionPonyfillFromRecognizer=C,t.default=void 0;var a=r(n(19)),i=r(n(260)),s=r(n(34)),o=r(n(42)),c=r(n(20)),u=r(n(29)),l=r(n(65)),p=r(n(66)),d=r(n(67)),f=n(83),h=r(n(267)),b=r(n(459)),v=r(n(188)),y=r(n(502)),j=r(n(140));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var x=j.default.AudioConfig,w=j.default.OutputFormat,k=j.default.ResultReason,S=j.default.SpeechConfig,E=j.default.SpeechRecognizer;function A(e){var t=e.duration,n=e.errorDetails,r=e.json,a=e.offset,i=e.properties,s=e.reason,o=e.resultId,c=e.text;return{duration:t,errorDetails:n,json:JSON.parse(r),offset:a,properties:i,reason:s,resultId:o,text:c}}function V(e){var t=new Int16Array(e);return[].reduce.call(t,(function(e,t){return e+Math.abs(t)}),0)/t.length}function R(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){return e.apply(void 0,n.concat([t,r]))}))}}var N=function(e){(0,l.default)(n,e);var t=O(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.data,s=a.emma,o=a.interpretation,c=a.resultIndex,l=a.results;return(0,u.default)(this,n),(r=t.call(this,e)).data=i,r.emma=s,r.interpretation=o,r.resultIndex=c,r.results=l,r}return n}(f.Event);function T(e){var t,n,r=e.attach,i=e.attach.bind(e);return e.attach=(0,c.default)(a.default.mark((function r(){var s;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i();case 2:return s=r.sent,r.abrupt("return",g(g({},s),{},{read:function(){var r=(0,c.default)(a.default.mark((function r(){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.read();case 2:if(i=r.sent,!t&&V(i.buffer)>150&&(e.events.onEvent({name:"FirstAudibleChunk"}),t=!0),!n){r.next=6;break}return r.abrupt("return",{buffer:new ArrayBuffer(0),isEnd:!0,timeReceived:Date.now()});case 6:return r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}));case 4:case"end":return r.stop()}}),r)}))),{audioConfig:e,pause:function(){n=!0},unprepare:function(){e.attach=r}}}function C(e){var t=e.createRecognizer,n=e.enableTelemetry,r=e.looseEvents,o=e.referenceGrammars,p=e.textNormalization;E.enableTelemetry(!1!==n);var d=function(e){(0,l.default)(d,e);var n=O(d);function d(){var e;return(0,u.default)(this,d),(e=n.call(this))._continuous=!1,e._interimResults=!1,e._lang="undefined"!==typeof window?window.document.documentElement.getAttribute("lang")||window.navigator.language:"en-US",e._grammars=new y.default,e._maxAlternatives=1,e}return(0,s.default)(d,[{key:"emitCognitiveServices",value:function(e,t){this.dispatchEvent(new N("cognitiveservices",{data:g(g({},t),{},{type:e})}))}},{key:"continuous",get:function(){return this._continuous},set:function(e){this._continuous=e}},{key:"grammars",get:function(){return this._grammars},set:function(e){if(!(e instanceof y.default))throw new Error("The provided value is not of type 'SpeechGrammarList'");this._grammars=e}},{key:"interimResults",get:function(){return this._interimResults},set:function(e){this._interimResults=e}},{key:"maxAlternatives",get:function(){return this._maxAlternatives},set:function(e){this._maxAlternatives=e}},{key:"lang",get:function(){return this._lang},set:function(e){this._lang=e}},{key:"onaudioend",get:function(){return(0,f.getEventAttributeValue)(this,"audioend")},set:function(e){(0,f.setEventAttributeValue)(this,"audioend",e)}},{key:"onaudiostart",get:function(){return(0,f.getEventAttributeValue)(this,"audiostart")},set:function(e){(0,f.setEventAttributeValue)(this,"audiostart",e)}},{key:"oncognitiveservices",get:function(){return(0,f.getEventAttributeValue)(this,"cognitiveservices")},set:function(e){(0,f.setEventAttributeValue)(this,"cognitiveservices",e)}},{key:"onend",get:function(){return(0,f.getEventAttributeValue)(this,"end")},set:function(e){(0,f.setEventAttributeValue)(this,"end",e)}},{key:"onerror",get:function(){return(0,f.getEventAttributeValue)(this,"error")},set:function(e){(0,f.setEventAttributeValue)(this,"error",e)}},{key:"onresult",get:function(){return(0,f.getEventAttributeValue)(this,"result")},set:function(e){(0,f.setEventAttributeValue)(this,"result",e)}},{key:"onsoundend",get:function(){return(0,f.getEventAttributeValue)(this,"soundend")},set:function(e){(0,f.setEventAttributeValue)(this,"soundend",e)}},{key:"onsoundstart",get:function(){return(0,f.getEventAttributeValue)(this,"soundstart")},set:function(e){(0,f.setEventAttributeValue)(this,"soundstart",e)}},{key:"onspeechend",get:function(){return(0,f.getEventAttributeValue)(this,"speechend")},set:function(e){(0,f.setEventAttributeValue)(this,"speechend",e)}},{key:"onspeechstart",get:function(){return(0,f.getEventAttributeValue)(this,"speechstart")},set:function(e){(0,f.setEventAttributeValue)(this,"speechstart",e)}},{key:"onstart",get:function(){return(0,f.getEventAttributeValue)(this,"start")},set:function(e){(0,f.setEventAttributeValue)(this,"start",e)}},{key:"start",value:function(){var e=this;this._startOnce().catch((function(t){e.dispatchEvent(new ErrorEvent("error",{error:t,message:t&&(t.stack||t.message)}))}))}},{key:"_startOnce",value:function(){var e=(0,c.default)(a.default.mark((function e(){var n,s,c,u,l,d,f,v,y,j,m,g,O,x,w,S,E,V=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(this.lang);case 2:return n=e.sent,s=T(n.audioConfig),c=s.pause,u=s.unprepare,e.prev=4,l=(0,b.default)(),y=n.audioConfig.events.attach((function(e){var t=e.name;"AudioSourceReadyEvent"===t?l.push({audioSourceReady:{}}):"AudioSourceOffEvent"===t?l.push({audioSourceOff:{}}):"FirstAudibleChunk"===t&&l.push({firstAudibleChunk:{}})})),j=y.detach,n.canceled=function(e,t){var n=t.errorDetails,r=t.offset,a=t.reason,i=t.sessionId;l.push({canceled:{errorDetails:n,offset:r,reason:a,sessionId:i}})},n.recognized=function(e,t){var n=t.offset,r=t.result,a=t.sessionId;l.push({recognized:{offset:n,result:A(r),sessionId:a}})},n.recognizing=function(e,t){var n=t.offset,r=t.result,a=t.sessionId;l.push({recognizing:{offset:n,result:A(r),sessionId:a}})},n.sessionStarted=function(e,t){var n=t.sessionId;l.push({sessionStarted:{sessionId:n}})},n.sessionStopped=function(e,t){var n=t.sessionId;l.push({sessionStopped:{sessionId:n}})},n.speechStartDetected=function(e,t){var n=t.offset,r=t.sessionId;l.push({speechStartDetected:{offset:n,sessionId:r}})},n.speechEndDetected=function(e,t){var n=t.sessionId;l.push({speechEndDetected:{sessionId:n}})},m=this.grammars.phrases,g=n.privReco.dynamicGrammar,o&&o.length&&g.addReferenceGrammar(o),m&&m.length&&g.addPhrase(m),e.next=20,R(n.startContinuousRecognitionAsync.bind(n))();case 20:n.stopContinuousRecognitionAsync?(this.abort=function(){return l.push({abort:{}})},this.stop=function(){return l.push({stop:{}})}):this.abort=this.stop=void 0,w=[],S=a.default.mark((function e(t){var s,o,u,b,y,j,m,g,S,E,A,T;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.shift();case 2:if(s=e.sent,o=s.abort,u=s.audioSourceOff,b=s.audioSourceReady,y=s.canceled,j=s.firstAudibleChunk,m=s.recognized,g=s.recognizing,S=s.stop,Object.keys(s).forEach((function(e){return V.emitCognitiveServices(e,s[e])})),E=y&&y.errorDetails,!/Permission[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]denied/.test(E||"")){e.next=9;break}return x={error:"not-allowed",type:"error"},e.abrupt("return","break");case 9:if(t||V.dispatchEvent(new N("start")),!E){e.next=15;break}return/1006/.test(E)?(O||(V.dispatchEvent(new N("audiostart")),V.dispatchEvent(new N("audioend"))),x={error:"network",type:"error"}):x={error:"unknown",type:"error"},e.abrupt("return","break");case 15:if(!o&&!S){e.next=22;break}if(o?(x={error:"aborted",type:"error"},v="abort"):(c(),v="stop"),!o||!n.stopContinuousRecognitionAsync){e.next=20;break}return e.next=20,R(n.stopContinuousRecognitionAsync.bind(n))();case 20:e.next=61;break;case 22:if(!b){e.next=27;break}V.dispatchEvent(new N("audiostart")),O=!0,e.next=61;break;case 27:if(!j){e.next=32;break}V.dispatchEvent(new N("soundstart")),d=!0,e.next=61;break;case 32:if(!u){e.next=40;break}return f&&V.dispatchEvent(new N("speechend")),d&&V.dispatchEvent(new N("soundend")),O&&V.dispatchEvent(new N("audioend")),O=d=f=!1,e.abrupt("return","break");case 40:if("abort"===v){e.next=61;break}if(!m||!m.result||m.result.reason!==k.NoMatch){e.next=45;break}x={error:"no-speech",type:"error"},e.next=61;break;case 45:if(!m&&!g){e.next=61;break}if(O||(V.dispatchEvent(new N("audiostart")),O=!0),d||(V.dispatchEvent(new N("soundstart")),d=!0),f||(V.dispatchEvent(new N("speechstart")),f=!0),!m){e.next=60;break}if(A=(0,h.default)(m.result,{maxAlternatives:V.maxAlternatives,textNormalization:p}),(T=!!A[0].transcript)&&(w=[].concat((0,i.default)(w),[A]),V.continuous&&V.dispatchEvent(new N("result",{results:w}))),x=V.continuous&&T?null:{results:w,type:"result"},V.continuous||!n.stopContinuousRecognitionAsync){e.next=57;break}return e.next=57,R(n.stopContinuousRecognitionAsync.bind(n))();case 57:r&&x&&T&&(V.dispatchEvent(new N(x.type,x)),x=null),e.next=61;break;case 60:g&&V.interimResults&&V.dispatchEvent(new N("result",{results:[].concat((0,i.default)(w),[(0,h.default)(g.result,{maxAlternatives:V.maxAlternatives,textNormalization:p})])}));case 61:case"end":return e.stop()}}),e)})),E=0;case 24:if(v&&!O){e.next=32;break}return e.delegateYield(S(E),"t0",26);case 26:if("break"!==e.t0){e.next=29;break}return e.abrupt("break",32);case 29:E++,e.next=24;break;case 32:f&&this.dispatchEvent(new N("speechend")),d&&this.dispatchEvent(new N("soundend")),O&&this.dispatchEvent(new N("audioend")),x&&("result"!==x.type||x.results.length||(x={error:"no-speech",type:"error"}),"error"===x.type?this.dispatchEvent(new ErrorEvent("error",x)):this.dispatchEvent(new N(x.type,x))),this.dispatchEvent(new N("end")),j(),e.next=44;break;case 40:throw e.prev=40,e.t1=e.catch(4),console.error(e.t1),e.t1;case 44:return e.prev=44,u(),n.dispose(),e.finish(44);case 48:case"end":return e.stop()}}),e,this,[[4,40,44,48]])})));return function(){return e.apply(this,arguments)}}()}]),d}(f.EventTarget);return{SpeechGrammarList:y.default,SpeechRecognition:d,SpeechRecognitionEvent:N}}t.default=function(e){var t=(0,v.default)(e),n=t.audioConfig,r=void 0===n?x.fromDefaultMicrophoneInput():n,i=t.enableTelemetry,s=void 0===i||i,o=t.fetchCredentials,u=t.looseEvents,l=t.referenceGrammars,p=t.speechRecognitionEndpointId,d=t.textNormalization,f=void 0===d?"display":d;return r||window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia?C({audioConfig:r,createRecognizer:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,i,s,c,u,l,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return n=e.sent,i=n.authorizationToken,s=n.region,c=n.speechRecognitionHostname,u=n.subscriptionKey,c?(d={hostname:c,port:443,protocol:"wss:"},i?(l=S.fromHost(d)).authorizationToken=i:l=S.fromHost(d,u)):l=i?S.fromAuthorizationToken(i,s):S.fromSubscription(u,s),p&&(l.endpointId=p),l.outputFormat=w.Detailed,l.speechRecognitionLanguage=t||"en-US",e.abrupt("return",new E(l,r));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableTelemetry:s,looseEvents:u,referenceGrammars:l,textNormalization:f}):(console.warn("web-speech-cognitive-services: This browser does not support WebRTC and it will not work with Cognitive Services Speech Services."),{})}},267:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxAlternatives,r=void 0===n?1/0:n,i=t.textNormalization,c=void 0===i?"display":i;if(e.reason===s||e.reason===o&&!e.json.NBest){var u=[{confidence:.5,transcript:e.text}];return e.reason===o&&(u.isFinal=!0),u}if(e.reason===o){var l=(0,a.default)((e.json.NBest||[]).slice(0,r).map((function(e){var t=e.Confidence,n=e.Display,r=e.ITN,a=e.Lexical,i=e.MaskedITN;return{confidence:t,transcript:"itn"===c?r:"lexical"===c?a:"maskeditn"===c?i:n}})),{isFinal:!0});return l}return[]};var a=r(n(268)),i=r(n(140)).default.ResultReason,s=i.RecognizingSpeech,o=i.RecognizedSpeech},268:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=s(s(s({},[].reduce.call(e,(function(e,t,n){return e[n]=t,e}),{})),t),{},(0,a.default)({length:e.length},Symbol.iterator,(function(){return[].slice.call(n)[Symbol.iterator]()})));return n};var a=r(n(42));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},302:function(e,t){},422:function(e,t){},443:function(e,t){},446:function(e,t){},450:function(e,t){},451:function(e,t){},452:function(e,t){},453:function(e,t){},454:function(e,t){},458:function(e,t){},459:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=[];return{push:function(n){if(e){var r=e.resolve;e=null,r(n)}else t.push(n)},shift:function(){return t.length?Promise.resolve(t.shift()):(e||(e=(0,a.default)())).promise}}};var a=r(n(166))},501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"function"===typeof e?e():e}},502:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29)),i=r(n(34)),s=function(){function e(){(0,a.default)(this,e),this._phrases=[]}return(0,i.default)(e,[{key:"addFromString",value:function(){throw new Error("JSGF is not supported")}},{key:"phrases",get:function(){return this._phrases},set:function(e){if(Array.isArray(e))this._phrases=e;else{if("string"!==typeof e)throw new Error("The provided value is not an array or of type 'string'");this._phrases=[e]}}}]),e}();t.default=s},503:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(504)).default;t.default=a},504:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),i=r(n(20)),s=r(n(29)),o=r(n(34)),c=r(n(65)),u=r(n(66)),l=r(n(67)),p=n(83),d=r(n(166)),f=r(n(505)),h=r(n(506)),b=r(n(509)),v=r(n(510)),y=r(n(188)),j=r(n(190)),m=r(n(511));function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var O=[];t.default=function(e){var t=(0,y.default)(e),n=t.audioContext,r=t.fetchCredentials,u=t.ponyfill,l=void 0===u?{AudioContext:window.AudioContext||window.webkitAudioContext}:u,x=t.speechSynthesisDeploymentId,w=t.speechSynthesisOutputFormat,k=void 0===w?"audio-24khz-160kbitrate-mono-mp3":w;return n||l.AudioContext?{speechSynthesis:new(function(e){(0,c.default)(u,e);var t=g(u);function u(){var e;return(0,s.default)(this,u),(e=t.call(this)).queue=new h.default({audioContext:n,ponyfill:l}),e.updateVoices(),e}return(0,o.default)(u,[{key:"cancel",value:function(){this.queue.stop()}},{key:"getVoices",value:function(){return O}},{key:"onvoiceschanged",get:function(){return(0,p.getEventAttributeValue)(this,"voiceschanged")},set:function(e){(0,p.setEventAttributeValue)(this,"voiceschanged",e)}},{key:"pause",value:function(){this.queue.pause()}},{key:"resume",value:function(){this.queue.resume()}},{key:"speak",value:function(e){if(!(e instanceof m.default))throw new Error("invalid utterance");var t=(0,d.default)(),n=t.reject,a=t.resolve,i=t.promise,s=function(e){var t=e.error,r=e.message,a=new Error(t);a.stack=r,n(a)};return e.addEventListener("end",a),e.addEventListener("error",s),e.preload({deploymentId:x,fetchCredentials:r,outputFormat:k}),this.queue.push(e),i.finally((function(){e.removeEventListener("end",a),e.removeEventListener("error",s)}))}},{key:"speaking",get:function(){return this.queue.speaking}},{key:"updateVoices",value:function(){var e=(0,i.default)(a.default.mark((function e(){var t,n,s,o,c,u=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(t=e.sent,n=t.customVoiceHostname,s=t.region,o=t.speechSynthesisHostname,c=t.subscriptionKey,!x){e.next=14;break}if(!c){e.next=12;break}return console.warn("web-speech-cognitive-services: Listing of custom voice models are only available when using subscription key."),e.next=12,(0,f.default)((0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.default)({customVoiceHostname:n,deploymentId:x,region:s,speechSynthesisHostname:o,subscriptionKey:c});case 2:t=e.sent,u.getVoices=function(){return t};case 4:case"end":return e.stop()}}),e)}))));case 12:e.next=16;break;case 14:return e.next=16,(0,f.default)((0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v.default,e.next=3,r();case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:t=e.sent,u.getVoices=function(){return t};case 8:case"end":return e.stop()}}),e)}))));case 16:this.dispatchEvent(new j.default("voiceschanged"));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),u}(p.EventTarget)),SpeechSynthesisEvent:j.default,SpeechSynthesisUtterance:m.default}:(console.warn("web-speech-cognitive-services: This browser does not support Web Audio and it will not work with Cognitive Services Speech Services."),{})}},506:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),i=r(n(20)),s=r(n(29)),o=r(n(34)),c=r(n(507)),u=r(n(508)),l=function(){function e(t){var n=t.audioContext,r=t.ponyfill;(0,s.default)(this,e),this.consumer=null,this.paused=!1,this.queue=[],this.getAudioContext=(0,c.default)((function(){return n||new r.AudioContext}))}return(0,o.default)(e,[{key:"pause",value:function(){this.paused=!0,this.consumer&&this.consumer.pause()}},{key:"push",value:function(e){this.queue.push(e),this.startConsumer()}},{key:"resume",value:function(){this.paused=!1,this.consumer?this.consumer.resume():this.startConsumer()}},{key:"speaking",get:function(){return!!this.consumer}},{key:"startConsumer",value:function(){var e=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paused||!this.queue.length||this.consumer){e.next=7;break}return this.consumer=new u.default(this.getAudioContext()),e.next=4,this.consumer.start(this.queue);case 4:this.consumer=null,e.next=0;break;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.queue.splice(0),this.consumer&&this.consumer.stop()}}]),e}();t.default=l},508:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),i=r(n(20)),s=r(n(29)),o=r(n(34)),c=function(){function e(t){(0,s.default)(this,e),this.audioContext=t}return(0,o.default)(e,[{key:"pause",value:function(){this.audioContext&&this.audioContext.suspend(),this.playingUtterance&&this.playingUtterance.dispatchEvent(new CustomEvent("pause"))}},{key:"resume",value:function(){this.audioContext&&this.audioContext.resume(),this.playingUtterance&&this.playingUtterance.dispatchEvent(new CustomEvent("resume"))}},{key:"start",value:function(){var e=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.shift())){e.next=7;break}return this.playingUtterance=n,e.next=4,n.play(this.audioContext);case 4:this.playingUtterance=null,e.next=0;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.playingUtterance&&this.playingUtterance.stop(),"suspended"===this.audioContext.state&&this.audioContext.resume()}}]),e}();t.default=c},509:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.apply(this,arguments)};var a=r(n(19)),i=r(n(20)),s=r(n(189));function o(e){return c.apply(this,arguments)}function c(){return(c=(0,i.default)(a.default.mark((function e(t){var n,r,i,s,o,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.customVoiceHostname,r=t.deploymentId,i=t.region,s=t.subscriptionKey,o=n||"".concat(i,".customvoice.api.speech.microsoft.com"),e.next=4,fetch("https://".concat(encodeURI(o),"/api/texttospeech/v2.0/endpoints/").concat(encodeURIComponent(r)),{headers:{accept:"application/json","ocp-apim-subscription-key":s}});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch custom voices");case 7:return e.abrupt("return",c.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,i.default)(a.default.mark((function e(t){var n,r,i,c,u,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.customVoiceHostname,r=t.deploymentId,i=t.region,c=t.subscriptionKey,e.next=3,o({customVoiceHostname:n,deploymentId:r,region:i,subscriptionKey:c});case 3:return u=e.sent,l=u.models,e.abrupt("return",l.map((function(e){var t=e.properties.Gender,n=e.locale,r=e.name;return new s.default({gender:t,lang:n,voiceURI:r})})).sort((function(e,t){var n=e.name,r=t.name;return n>r?1:n<r?-1:0})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},510:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.apply(this,arguments)};var a=r(n(19)),i=r(n(42)),s=r(n(20)),o=r(n(189));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(){return(l=(0,s.default)(a.default.mark((function e(t){var n,r,i,s,c,l,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.authorizationToken,r=t.region,i=t.speechSynthesisHostname,s=t.subscriptionKey,c=i||"".concat(encodeURI(r),".tts.speech.microsoft.com"),e.next=4,fetch("https://".concat(c,"/cognitiveservices/voices/list"),{headers:u({"content-type":"application/json"},n?{authorization:"Bearer ".concat(n)}:{"Ocp-Apim-Subscription-Key":s})});case 4:if((l=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch voices");case 7:return e.next=9,l.json();case 9:return p=e.sent,e.abrupt("return",p.map((function(e){var t=e.Gender,n=e.Locale,r=e.Name;return new o.default({gender:t,lang:n,voiceURI:r})})).sort((function(e,t){var n=e.name,r=t.name;return n>r?1:n<r?-1:0})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},511:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),i=r(n(20)),s=r(n(29)),o=r(n(34)),c=r(n(65)),u=r(n(66)),l=r(n(67)),p=n(83),d=r(n(512)),f=r(n(514)),h=r(n(190)),b=r(n(518));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function y(e,t){return new Promise((function(n,r){var a=e.decodeAudioData(t,n,r);a&&"function"===typeof a.then&&n(a)}))}function j(e,t,n){return new Promise((function(r,a){var i=new d.default,s=new d.default,o=(0,b.default)(e,"statechange",(function(e){return"closed"===e.target.state&&i.eventListener()}));try{n.buffer=t,n.onended=s.eventListener,n.connect(e.destination),n.start(0),Promise.race([i.upcoming(),s.upcoming()]).then(r)}catch(c){a(c)}finally{o()}}))}var m=function(e){(0,c.default)(n,e);var t=v(n);function n(e){var r;return(0,s.default)(this,n),(r=t.call(this))._lang=null,r._pitch=1,r._rate=1,r._voice=null,r._volume=1,r.text=e,r.onboundary=null,r.onend=null,r.onerror=null,r.onmark=null,r.onpause=null,r.onresume=null,r.onstart=null,r}return(0,o.default)(n,[{key:"lang",get:function(){return this._lang},set:function(e){this._lang=e}},{key:"onboundary",get:function(){return(0,p.getEventAttributeValue)(this,"boundary")},set:function(e){(0,p.setEventAttributeValue)(this,"boundary",e)}},{key:"onend",get:function(){return(0,p.getEventAttributeValue)(this,"end")},set:function(e){(0,p.setEventAttributeValue)(this,"end",e)}},{key:"onerror",get:function(){return(0,p.getEventAttributeValue)(this,"error")},set:function(e){(0,p.setEventAttributeValue)(this,"error",e)}},{key:"onmark",get:function(){return(0,p.getEventAttributeValue)(this,"mark")},set:function(e){(0,p.setEventAttributeValue)(this,"mark",e)}},{key:"onpause",get:function(){return(0,p.getEventAttributeValue)(this,"pause")},set:function(e){(0,p.setEventAttributeValue)(this,"pause",e)}},{key:"onresume",get:function(){return(0,p.getEventAttributeValue)(this,"resume")},set:function(e){(0,p.setEventAttributeValue)(this,"resume",e)}},{key:"onstart",get:function(){return(0,p.getEventAttributeValue)(this,"start")},set:function(e){(0,p.setEventAttributeValue)(this,"start",e)}},{key:"pitch",get:function(){return this._pitch},set:function(e){this._pitch=e}},{key:"rate",get:function(){return this._rate},set:function(e){this._rate=e}},{key:"voice",get:function(){return this._voice},set:function(e){this._voice=e}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e}},{key:"preload",value:function(e){var t=e.deploymentId,n=e.fetchCredentials,r=e.outputFormat;this.arrayBufferPromise=(0,f.default)({fetchCredentials:n,deploymentId:t,lang:this.lang||window.navigator.language,outputFormat:r,pitch:this.pitch,rate:this.rate,text:this.text,voice:this.voice&&this.voice.voiceURI,volume:this.volume}),this.arrayBufferPromise.catch()}},{key:"play",value:function(){var e=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.dispatchEvent(new h.default("start")),n=t.createBufferSource(),e.t0=y,e.t1=t,e.next=7,this.arrayBufferPromise;case 7:return e.t2=e.sent,e.next=10,(0,e.t0)(e.t1,e.t2);case 10:return r=e.sent,this._playingSource=n,e.next=14,j(t,r,n);case 14:this._playingSource=null,this.dispatchEvent(new h.default("end")),e.next=21;break;case 18:e.prev=18,e.t3=e.catch(0),this.dispatchEvent(new ErrorEvent("error",{error:"synthesis-failed",message:e.t3.stack}));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this._playingSource&&this._playingSource.stop()}}]),n}(p.EventTarget);t.default=m},514:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return v.apply(this,arguments)};var a=r(n(19)),i=r(n(42)),s=r(n(20)),o=n(515),c=r(n(516)),u=r(n(517));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="en-US",f="riff-16khz-16bit-mono-pcm",h="Microsoft Server Speech Text to Speech Voice (en-US, AriaNeural)",b="SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjU2LjEwMQAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAACAAABhgC7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7//////////////////////////////////////////////////////////////////8AAAAATGF2YzU3LjY0AAAAAAAAAAAAAAAAJAUHAAAAAAAAAYYoRBqpAAAAAAD/+xDEAAPAAAGkAAAAIAAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMQpg8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";function v(){return(v=(0,s.default)(a.default.mark((function e(t){var n,r,i,s,l,v,y,j,m,g,O,x,w,k,S,E,A,V,R,N,T,C;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.deploymentId,r=t.fetchCredentials,i=t.lang,s=void 0===i?d:i,l=t.outputFormat,v=void 0===l?f:l,y=t.pitch,j=t.rate,m=t.text,g=t.voice,O=void 0===g?h:g,x=t.volume,m){e.next=3;break}return e.abrupt("return",(0,o.decode)(b));case 3:return e.next=5,r();case 5:if(w=e.sent,k=w.authorizationToken,S=w.region,E=w.speechSynthesisHostname,A=w.subscriptionKey,!(k&&A||!k&&!A)){e.next=14;break}throw new Error('Only "authorizationToken" or "subscriptionKey" should be set.');case 14:if(!(S&&E||!S&&!E)){e.next=16;break}throw new Error('Only "region" or "speechSynthesisHostnamename" should be set.');case 16:return V=(0,u.default)(m)?m:(0,c.default)({lang:s,pitch:y,rate:j,text:m,voice:O,volume:x}),R=E||"".concat(encodeURI(S),n?".voice.speech.microsoft.com":".tts.speech.microsoft.com"),N=n?"?deploymentId=".concat(encodeURI(n)):"",T="https://".concat(R,"/cognitiveservices/v1").concat(N),e.next=22,fetch(T,{headers:p({"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":v},k?{Authorization:"Bearer ".concat(k)}:{"Ocp-Apim-Subscription-Key":A}),method:"POST",body:V});case 22:if((C=e.sent).ok){e.next=25;break}throw new Error("web-speech-cognitive-services: Failed to syntheis speech, server returned ".concat(C.status));case 25:return e.abrupt("return",C.arrayBuffer());case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},516:function(e,t,n){"use strict";function r(e){var t=Math.round(100*(e-1));return t>=0&&(t="+"+t),t+"%"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.lang,n=e.pitch,a=void 0===n?1:n,i=e.rate,s=void 0===i?1:i,o=e.text,c=e.voice,u=e.volume;return'<speak version="1.0" xml:lang="'.concat(t,'">\n  <voice xml:lang="').concat(t,'" name="').concat(c,'">\n    <prosody pitch="').concat(r(a),'" rate="').concat(r(s),'" volume="').concat(r(u),'">\n      ').concat(o,"\n    </prosody>\n  </voice>\n</speak>")}},517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.test(e)||a.test(e)};var r=/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<speak([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]|\/?>)/,a=/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<\?xml[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/},518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}}},519:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.apply(this,arguments)};var a=r(n(19)),i=r(n(20)),s="https://{region}.api.cognitive.microsoft.com/sts/v1.0/issueToken";function o(){return(o=(0,i.default)(a.default.mark((function e(t){var n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.region,r=t.subscriptionKey,e.next=3,fetch(s.replace(/\{region\}/,n),{headers:{"Ocp-Apim-Subscription-Key":r},method:"POST"});case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch authorization token, server returned ".concat(i.status));case 6:return e.abrupt("return",i.text());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},559:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(84),s=n.n(i),o=n(6),c=n(56),u=n(28),l=n.n(u),p=n(0),d=Object(c.css)({border:0,position:"fixed",right:0,top:0}),f=function(e){var t=e.owner,n=e.repo;return Object(p.jsx)("a",{href:"https://github.com/".concat(encodeURI(t),"/").concat(encodeURI(n)),rel:"noopener noreferrer",target:"_blank",children:Object(p.jsx)("img",{alt:"Fork me on GitHub",className:d,src:"https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"})})};function h(e){var t="browser"===e,n=/^speechservices:/.test(e);return{browser:t,bundle:t||"speechservices:bundle"===e,customSpeech:n,customVoice:n,dynamicPhrases:n,inverseTextNormalization:n,maxAlternatives:t||n,npm:"speechservices:npm"===e,referenceGrammarId:n,speechServices:n,telemetry:n}}var b=function(e){var t=e.disabled,n=e.text,r=e.value;return Object(p.jsx)("option",{disabled:t,value:r,children:n})},v=function(e){var t=e.children,n=e.disabled,r=e.onChange,a=e.value;return Object(p.jsx)("select",{className:"custom-select",disabled:n,onChange:function(e){var t=e.target.value;return r&&r(t)},value:a,children:t})},y="SET_ENABLE_TELEMETRY";var j="SET_PONYFILL_TYPE";var m=function(){var e=Object(o.c)((function(e){return{browserSupportedSpeechRecognition:e.browserSupportedSpeechRecognition,ponyfillType:e.ponyfillType,enableTelemetry:e.enableTelemetry}})),t=e.browserSupportedSpeechRecognition,n=e.ponyfillType,a=e.enableTelemetry,i=Object(o.b)(),s=Object(r.useCallback)((function(){return i(function(e){return{type:y,payload:{enableTelemetry:e}}}(!a))}),[i,a]),c=Object(r.useCallback)((function(e){return i(function(e){return{type:j,payload:{ponyfillType:e}}}(e))}),[i]),u=h(n);return Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsxs)(v,{onChange:c,value:n,children:[Object(p.jsx)(b,{disabled:!t,text:"Browser",value:"browser"}),Object(p.jsx)(b,{text:"Speech Services",value:"speechservices:npm"}),Object(p.jsx)(b,{text:"Speech Services (via bundle)",value:"speechservices:bundle"})]}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{className:l()("btn btn-outline-secondary",{active:a}),disabled:!u.telemetry,onClick:s,type:"button",children:"Telemetry"})})]})},g="SET_REGION";var O=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,region:e.region}})),t=e.ponyfillType,n=e.region,a=Object(o.b)(),i=Object(r.useCallback)((function(e){return a(function(e){return{type:g,payload:{region:e}}}(e))}),[a]),s=h(t);return Object(p.jsxs)(v,{disabled:!s.speechServices,onChange:i,value:n,children:[Object(p.jsx)(b,{text:"West US",value:"westus"}),Object(p.jsx)(b,{text:"West US 2",value:"westus2"}),Object(p.jsx)(b,{text:"East US",value:"eastus"}),Object(p.jsx)(b,{text:"East US 2",value:"eastus2"}),Object(p.jsx)(b,{text:"East Asia",value:"eastasia"}),Object(p.jsx)(b,{text:"South East Asia",value:"southeastasia"}),Object(p.jsx)(b,{text:"North Europe",value:"northeurope"}),Object(p.jsx)(b,{text:"West Europe",value:"westeurope"})]})},x="CONVERT_SPEECH_SERVICES_SUBSCRIPTION_KEY_TO_AUTHORIZATION_TOKEN";var w="SET_ON_DEMAND_AUTHORIZATION_TOKEN";var k="SET_SPEECH_SERVICES_AUTHORIZATION_TOKEN";function S(e){return{type:k,payload:{authorizationToken:e}}}var E="SET_SPEECH_SERVICES_SUBSCRIPTION_KEY";var A=function(){var e=Object(o.c)((function(e){var t=e.onDemandAuthorizationToken,n=e.ponyfillType,r=e.speechServicesAuthorizationToken,a=e.speechServicesSubscriptionKey;return{authorizationToken:r,disabled:h(n).browser,onDemandAuthorizationToken:t,subscriptionKey:a}})),t=e.authorizationToken,n=e.disabled,i=e.onDemandAuthorizationToken,s=e.subscriptionKey,c=Object(o.b)(),u=Object(r.useCallback)((function(e){return c({type:w,payload:{onDemand:e}})}),[c]),d=Object(r.useCallback)((function(){return c(S(""))}),[c]),f=Object(r.useCallback)((function(){return c({type:x})}),[c]),b=Object(r.useCallback)((function(e){var t=e.target.value;return c(function(e){return{type:E,payload:{subscriptionKey:e}}}(t))}),[c]);return Object(p.jsx)("div",{className:"input-group",children:t?Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("input",{className:"form-control",disabled:n,readOnly:!0,type:"text",value:t}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{className:"btn btn-outline-secondary",onClick:d,type:"button",children:"Clear"})})]}):Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("input",{className:"form-control",disabled:n,onChange:b,type:"text",value:s}),Object(p.jsxs)("div",{className:"input-group-append",children:[Object(p.jsx)("button",{className:l()("btn btn-outline-secondary",{active:i}),disabled:n,onClick:u,type:"button",children:"On-demand"}),Object(p.jsx)("button",{className:"btn btn-outline-secondary",disabled:n,onClick:f,type:"button",children:"Convert to authorization token"})]})]})})},V=n(63),R="SET_SPEECH_RECOGNITION_ENDPOINT_ID";var N=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,speechRecognitionEndpointId:e.speechRecognitionEndpointId}})),t=e.ponyfillType,n=e.speechRecognitionEndpointId,a=Object(o.b)(),i=Object(r.useCallback)((function(e){var t=e.target.value;return a({type:R,payload:{endpointId:t}})}),[a]),s=h(t);return Object(p.jsx)("input",{className:"form-control",disabled:!s.customSpeech,onChange:i,type:"text",value:n})},T="SET_SPEECH_RECOGNITION_LANGUAGE";var C=function(){var e=Object(o.c)((function(e){return e.speechRecognitionLanguage})),t=Object(o.b)(),n=Object(r.useCallback)((function(e){return t({type:T,payload:{language:e}})}),[t]);return Object(p.jsxs)(v,{onChange:n,value:e,children:[Object(p.jsx)(b,{text:"English (US)",value:"en-US"}),Object(p.jsx)(b,{text:"Chinese (Cantonese)",value:"zh-HK"}),Object(p.jsx)(b,{text:"Chinese (Putonghua)",value:"zh-CN"}),Object(p.jsx)(b,{text:"Japanese",value:"ja-JP"}),Object(p.jsx)(b,{text:"Korean",value:"ko-KR"})]})},_="SET_SPEECH_RECOGNITION_TEXT_NORMALIZATION";var P=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,speechRecognitionTextNormalization:e.speechRecognitionTextNormalization}})),t=e.ponyfillType,n=e.speechRecognitionTextNormalization,a=Object(o.b)(),i=Object(r.useCallback)((function(e){return a({type:_,payload:{textNormalization:e}})}),[a]),s=h(t);return Object(p.jsxs)(v,{disabled:!s.inverseTextNormalization,onChange:i,value:n,children:[Object(p.jsx)(b,{text:"Display (default)",value:"display"}),Object(p.jsx)(b,{text:"ITN",value:"itn"}),Object(p.jsx)(b,{text:"Masked ITN",value:"maskeditn"}),Object(p.jsx)(b,{text:"Lexical",value:"lexical"})]})},I="ABORT_SPEECH_RECOGNITION";var U="START_SPEECH_RECOGNITION";var z="STOP_SPEECH_RECOGNITION";function F(){return{type:z}}var D="CLEAR_SPEECH_RECOGNITION_EVENT";function H(){return{type:D}}var M="SET_SPEECH_RECOGNITION_CONTINUOUS";function K(e){return{type:M,payload:{continuous:e}}}var L="SET_SPEECH_RECOGNITION_DELAYED_START";function G(e){return{type:L,payload:{delay:e}}}var B="SET_SPEECH_RECOGNITION_INTERIM_RESULTS";function W(e){return{type:B,payload:{interimResults:e}}}var Y="SET_SPEECH_RECOGNITION_MAX_ALTERNATIVES";var J="SET_SPEECH_RECOGNITION_PHRASES";var q="SET_SPEECH_RECOGNITION_REFERENCE_GRAMMARS";var Q=function(){var e=Object(o.c)((function(e){var t=e.ponyfillType,n=e.speechRecognitionEvents,r=e.speechRecognitionContinuous,a=e.speechRecognitionDelayedStart,i=e.speechRecognitionInterimResults,s=e.speechRecognitionMaxAlternatives,o=e.speechRecognitionPhrases,c=e.speechRecognitionReferenceGrammars,u=e.speechRecognitionStarted;return{continuous:r,delayedStart:!!a,empty:!n.length,interimResults:i,maxAlternatives:s,phrases:o,ponyfillType:t,referenceGrammars:c,started:u}})),t=e.continuous,n=e.delayedStart,i=e.empty,s=e.interimResults,c=e.maxAlternatives,u=e.phrases,l=e.ponyfillType,d=e.referenceGrammars,f=e.started,y=Object(o.b)(),j=Object(r.useCallback)((function(){return y({type:I})}),[y]),m=Object(r.useCallback)((function(){return y(H())}),[y]),g=Object(r.useCallback)((function(){return y(K(!0))}),[y]),O=Object(r.useCallback)((function(){return y(G(!0))}),[y]),x=Object(r.useCallback)((function(){return y(W(!1))}),[y]),w=Object(r.useCallback)((function(){return y(K(!1))}),[y]),k=Object(r.useCallback)((function(e){return y(function(e){return{type:Y,payload:{maxAlternatives:e}}}(+e))}),[y]),S=Object(r.useCallback)((function(){return y(G(!1))}),[y]),E=Object(r.useCallback)((function(e){return y(function(e){return{type:J,payload:{phrases:e}}}(e))}),[y]),A=Object(r.useCallback)((function(e){return y(function(e){return{type:q,payload:{referenceGrammars:e}}}(e))}),[y]),R=Object(r.useCallback)((function(){return y(W(!0))}),[y]),T=Object(r.useCallback)((function(){return y({type:U})}),[y]),_=Object(r.useCallback)((function(){return y(F())}),[y]),z=Object(r.useState)(),D=Object(V.a)(z,2),M=D[0],L=D[1],B=Object(r.useState)(),Q=Object(V.a)(B,2),X=Q[0],Z=Q[1];Object(r.useMemo)((function(){return L(u.join(", "))}),[u]),Object(r.useMemo)((function(){return Z(d.join(", "))}),[d]);var $=h(l);return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)("div",{className:"row col",style:{marginBottom:"1em"},children:[Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{className:"btn btn-primary",disabled:!!f,onClick:T,type:"button",children:t?s?n?"Delayed start in continuous mode with interims":"Start in continuous mode with interims":n?"Delayed start in continuous mode":"Start in continuous mode":s?n?"Delayed start with interims":"Start with interims":n?"Delayed start":"Start"}),Object(p.jsx)("button",{className:"btn btn-primary dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown",disabled:!!f,"aria-haspopup":"true","aria-expanded":"false",children:Object(p.jsx)("span",{className:"sr-only",children:"Toggle dropdown"})}),Object(p.jsxs)("div",{className:"dropdown-menu",children:[Object(p.jsx)("button",{className:"dropdown-item",onClick:w,type:"button",children:"Interactive mode"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:g,type:"button",children:"Continuous mode"}),Object(p.jsx)("div",{className:"dropdown-divider"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:R,type:"button",children:"Show interims"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:x,type:"button",children:"Hide interims"}),Object(p.jsx)("div",{className:"dropdown-divider"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:O,type:"button",children:"Delayed start"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:S,type:"button",children:"No delayed start"})]})]}),"\xa0",Object(p.jsx)("div",{className:"form-group-inline",children:Object(p.jsxs)(v,{disabled:f||!$.maxAlternatives,onChange:k,value:$.maxAlternatives?c:1,children:[Object(p.jsx)(b,{text:"One alternative",value:"1"}),Object(p.jsx)(b,{text:"3 alternatives",value:"3"}),Object(p.jsx)(b,{text:"5 alternatives",value:"5"}),Object(p.jsx)(b,{text:"10 alternatives",value:"10"})]})}),"\xa0",Object(p.jsx)("div",{className:"form-group-inline",children:Object(p.jsx)(C,{})}),"\xa0",Object(p.jsx)("div",{className:"form-group-inline",children:Object(p.jsx)(P,{})}),"\xa0",Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{className:"btn btn-secondary",disabled:!f,onClick:_,type:"button",children:"Stop"}),Object(p.jsx)("button",{className:"btn btn-secondary",disabled:!f,onClick:j,type:"button",children:"Abort"})]}),"\xa0",Object(p.jsx)("button",{className:"btn btn-danger",disabled:i,onClick:m,type:"button",children:"Clear events"})]}),Object(p.jsxs)("div",{className:"row",style:{marginBottom:"1em"},children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("label",{children:"Phrases"}),Object(p.jsx)("input",{"aria-label":"Phrases for recognition",className:"form-control",disabled:f||!$.dynamicPhrases,onBlur:function(){return E(M.split(/[,;\|]/g).map((function(e){return e.trim()})).filter((function(e){return e})))},onChange:function(e){var t=e.target.value;return L(t)},type:"text",value:M})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("label",{children:"Reference grammars"}),Object(p.jsx)("input",{"aria-label":"Reference grammars for recognition",className:"form-control",disabled:f||!$.referenceGrammarId,onBlur:function(){return A(X.split(/[,;\|]/g).map((function(e){return e.trim()})).filter((function(e){return e})))},onChange:function(e){var t=e.target.value;return Z(t)},type:"text",value:X})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("label",{children:"Endpoint ID"}),Object(p.jsx)(N,{})]})]})]})},X=Object(c.css)({backgroundColor:"Transparent",border:0,padding:0}),Z=function(e){var t=e.children,n=e.content,a=e.placement,i=e.trigger,s=Object(r.useCallback)((function(){var e=document.createElement("pre");return e.innerText=n,e}),[n]),o=Object(r.useRef)(),c=o.current;return Object(r.useEffect)((function(){return window.jQuery(c).popover({content:s(n),html:!0}),function(){return window.jQuery(c).popover("dispose")}}),[n,s,c]),Object(p.jsx)("button",{className:X,"data-placement":a,"data-toggle":"popover","data-trigger":i,ref:o,type:"button",children:t})},$=function(){var e=Object(o.c)((function(e){return e.speechRecognitionEvents}));return Object(p.jsx)("ol",{className:"list-unstyled",children:e.map((function(e,t){return Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{className:"badge",children:t+1}),"\xa0",Object(p.jsx)(Z,{content:JSON.stringify(e,null,2),placement:"right",trigger:"focus",children:"start"===e.type||"end"===e.type?Object(p.jsx)("span",{className:"badge badge-primary",children:e.type}):"audiostart"===e.type||"audioend"===e.type?Object(p.jsx)("span",{className:"badge badge-success",children:e.type}):"soundstart"===e.type||"soundend"===e.type?Object(p.jsx)("span",{className:"badge badge-warning",children:e.type}):"speechstart"===e.type||"speechend"===e.type?Object(p.jsx)("span",{className:"badge badge-danger",children:e.type}):"result"===e.type?Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"badge badge-info",children:e.type}),Object(p.jsxs)("span",{children:["\xa0",[].map.call(e.results,(function(e,t){return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)("div",{style:{display:"inline-block"},children:[!!e.isFinal&&Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("span",{className:"badge badge-dark",children:"isFinal"}),"\xa0"]}),[].map.call(e,(function(e,t){var n=e.confidence,r=e.transcript;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("span",{className:"badge badge-pill badge-primary",children:r}),"\xa0",Object(p.jsxs)("span",{className:"badge badge-pill badge-success",children:[Math.round(100*n),"%"]},t),Object(p.jsx)("br",{})]},t)}))]}),"\xa0"]},t)}))]})]}):"nomatch"===e.type?Object(p.jsx)("span",{className:"badge badge-info",children:e.type}):"error"===e.type?Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("span",{className:"badge badge-dark",children:e.type}),"\xa0",Object(p.jsx)("small",{children:e.message})]}):"cognitiveservices"===e.type?Object(p.jsxs)("span",{className:"badge badge-light",children:[e.type,":",e.data.type]}):Object(p.jsx)("span",{className:"badge badge-secondary",children:e.type})})]},t)}))})},ee=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(Q,{})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)($,{})})})]})},te="CANCEL_SPEECH_SYNTHESIS";var ne="CLEAR_SPEECH_SYNTHESIS_UTTERANCE";var re="PAUSE_SPEECH_SYNTHESIS";var ae="RESUME_SPEECH_SYNTHESIS";var ie="SPEECH_SYNTHESIS_SPEAK_UTTERANCE";var se=n(39);var oe=function(e){var t=e.children,n=e.getValue,i=e.interval,s=Object(r.useState)(),o=Object(V.a)(s,2),c=o[0],u=o[1];return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(r.useEffect)((function(){var n=setInterval(e,t);return function(){return clearInterval(n)}}),[e,t].concat(Object(se.a)(n)))}((function(){var e=n();c!==e&&u(e)}),i||300,[n,c]),Object(p.jsx)(a.a.Fragment,{children:"function"===typeof t?t(c):t},c)},ce=function(){var e=Object(o.c)((function(e){return e.ponyfill.speechSynthesis})),t=Object(r.useCallback)((function(){return e&&e.speaking}),[e]);return Object(p.jsx)(oe,{getValue:t,interval:300,children:function(e){return Object(p.jsxs)("span",{children:["Speaking\xa0",Object(p.jsx)("span",{className:l()("badge",{"badge-success":e,"badge-secondary":!e}),children:e?"true":"false"})]})}})},ue=function(){var e=Object(o.c)((function(e){var t=e.speechSynthesisUtterances,n=e.speechSynthesisText,r=e.speechSynthesisVoiceURI;return{hasUtterances:t.length,text:n,voiceURI:r}})),t=e.hasUtterances,n=e.text,a=e.voiceURI,i=Object(o.b)(),s=Object(r.useCallback)((function(){return i({type:te})}),[i]),c=Object(r.useCallback)((function(){return i({type:ne})}),[i]),u=Object(r.useCallback)((function(){return i({type:re})}),[i]),l=Object(r.useCallback)((function(){return i({type:ae})}),[i]),d=Object(r.useCallback)((function(){return i({type:ie,payload:{utterance:{text:n,voiceURI:a}}})}),[i,n,a]);return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"btn btn-primary",disabled:!n,onClick:d,type:"button",children:"Speak"}),"\xa0",Object(p.jsxs)("div",{"aria-label":"Pause or resume",className:"btn-group",role:"group",children:[Object(p.jsx)("button",{className:"btn btn-primary",disabled:!n,onClick:u,type:"button",children:"Pause"}),Object(p.jsx)("button",{className:"btn btn-primary",disabled:!n,onClick:l,type:"button",children:"Resume"})]}),"\xa0",Object(p.jsx)("button",{className:"btn btn-primary",disabled:!n,onClick:s,type:"button",children:"Cancel"}),"\xa0",Object(p.jsx)("button",{className:"btn btn-danger",disabled:!t,onClick:c,type:"button",children:"Clear utterances"}),"\xa0",Object(p.jsx)(ce,{})]})},le="SET_SPEECH_SYNTHESIS_DEPLOYMENT_ID";var pe=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,speechSynthesisDeploymentId:e.speechSynthesisDeploymentId}})),t=e.ponyfillType,n=e.speechSynthesisDeploymentId,a=Object(o.b)(),i=Object(r.useCallback)((function(e){var t=e.target.value;return a({type:le,payload:{deploymentId:t}})}),[a]),s=h(t);return Object(p.jsx)("input",{className:"form-control",disabled:!s.customVoice,onChange:i,type:"text",value:n})},de="SET_SPEECH_SYNTHESIS_OUTPUT_FORMAT";var fe=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,speechSynthesisOutputFormat:e.speechSynthesisOutputFormat}})),t=e.ponyfillType,n=e.speechSynthesisOutputFormat,a=Object(o.b)(),i=Object(r.useCallback)((function(e){return a({type:de,payload:{outputFormat:e}})}),[a]),s=h(t);return Object(p.jsxs)(v,{disabled:!s.speechServices,onChange:i,value:n,children:[Object(p.jsx)(b,{text:"MP3 160Kbps 24KHz",value:"audio-24khz-160kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"MP3 128Kbps 16KHz",value:"audio-16khz-128kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"MP3 96Kbps 24KHz",value:"audio-24khz-96kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"MP3 64Kbps 16KHz",value:"audio-16khz-64kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"MP3 48Kbps 24KHz",value:"audio-24khz-48kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"MP3 32Kbps 16KHz",value:"audio-16khz-32kbitrate-mono-mp3"}),Object(p.jsx)(b,{text:"WAV 24KHz 16-bit PCM",value:"riff-24khz-16bit-mono-pcm"}),Object(p.jsx)(b,{text:"WAV 16KHz 16-bit PCM",value:"riff-16khz-16bit-mono-pcm"}),Object(p.jsx)(b,{text:"WAV 8KHz 8-bit a-law",value:"riff-8khz-8bit-mono-alaw"}),Object(p.jsx)(b,{text:"WAV 8KHz 8-bit \u03bc-law",value:"riff-8khz-8bit-mono-mulaw"})]})},he="SET_SPEECH_SYNTHESIS_TEXT";var be="SET_SPEECH_SYNTHESIS_VOICE_URI";function ve(e){return{type:be,payload:{voiceURI:e}}}var ye=function(){var e=Object(o.c)((function(e){return{speechSynthesisNativeVoices:e.speechSynthesisNativeVoices,speechSynthesisText:e.speechSynthesisText}})),t=e.speechSynthesisNativeVoices,n=e.speechSynthesisText,a=Object(o.b)(),i=Object(r.useCallback)((function(e){return a({type:he,payload:{text:e}})}),[a]),s=Object(r.useCallback)((function(e){e.some((function(e){var n=t.find((function(t){return~t.name.indexOf(e)}));return n&&a(ve(n.voiceURI)),n}))}),[a,t]),c=Object(r.useCallback)((function(){i("\u4e00\u5929\uff0c\u60b6\u60b6\u4e0d\u6a02\u7684\u611b\u9e97\u7d72\u8ddf\u59ca\u59ca\u540c\u5750\u65bc\u6cb3\u7554\u3002\u5ffd\u898b\u4e00\u96bb\u53e4\u602a\u7684\u767d\u5154\u8d70\u904e\u2500\u2500\u7260\u7a7f\u6234\u6253\u626e\uff0c\u624b\u6301\u61f7\u9336\uff0c\u81ea\u8a00\u81ea\u8a9e\uff0c\u884c\u8272\u5306\u5306\u3002\u597d\u5947\u7684\u611b\u9e97\u7d72\u8ddf\u7740\u7260\u8dd1\uff0c\u8df3\u9032\u5154\u5b50\u6d1e\u88cf\u53bb\u3002"),s(["TracyRUS"])}),[i,s]),u=Object(r.useCallback)((function(){i("Pooh is very social. After Christopher Robin, his closest friend is Piglet, and he most often chooses to spend his time with one or both of them."),s(["JessaNeural","Jessa24kRUS","JessaRUS"])}),[i,s]),l=Object(r.useCallback)((function(){i('<speak version="1.0" xml:lang="en-US"><voice xml:lang="en-US" name="Microsoft Server Speech Text to Speech Voice (en-US, Guy24kRUS)"><prosody pitch="+20%" rate="+20%" volume="0%">Pooh is very social. After Christopher Robin, his closest friend is Piglet, and he most often chooses to spend his time with one or both of them.</prosody></voice></speak>')}),[i]),d=Object(r.useCallback)((function(e){var t=e.target.value;return i(t)}),[i]);return Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsxs)("div",{className:"input-group-prepend",children:[Object(p.jsx)("button",{"aria-expanded":"false","aria-haspopup":"true",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown",type:"button",children:"Preset"}),Object(p.jsxs)("div",{className:"dropdown-menu",children:[Object(p.jsx)("button",{className:"dropdown-item",onClick:u,type:"button",children:"Winnie the Pooh (English)"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:l,type:"button",children:"Winnie the Pooh (English in SSML)"}),Object(p.jsx)("button",{className:"dropdown-item",onClick:c,type:"button",children:"Alice Adventures in Wonderland (Cantonese)"})]})]}),Object(p.jsx)("input",{"aria-label":"Text to synthesis as speech",className:"form-control",onChange:d,type:"text",value:n})]})},je=function(e){var t=e.utteranceID,n=Object(o.c)((function(e){return e.speechSynthesisUtterances})),i=Object(r.useMemo)((function(){return(n.find((function(e){return e.id===t}))||{}).events||[]}),[n,t]);return Object(p.jsx)("div",{children:i.map((function(e,t){return Object(p.jsxs)(a.a.Fragment,{children:["start"===e.type||"end"===e.type?Object(p.jsx)("span",{className:"badge badge-success",children:e.type}):"boundary"===e.type?Object(p.jsx)("span",{className:"badge badge-primary",children:e.type}):Object(p.jsx)("span",{className:"badge badge-secondary",children:e.type}),"\xa0"]},t)}))})},me=function(){var e=Object(o.c)((function(e){return e.speechSynthesisUtterances}));return Object(p.jsxs)("div",{className:"list-group",children:[e.map((function(e){return Object(p.jsxs)("div",{className:"list-group-item",children:[Object(p.jsx)("div",{children:e.text}),Object(p.jsx)(je,{utteranceID:e.id})]},e.id)})),Object(p.jsx)("br",{})]})},ge=/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<speak[\t-\r >\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/,Oe=/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*<?xml[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/;var xe=function(){var e,t=Object(o.c)((function(e){return{speechSynthesisNativeVoices:e.speechSynthesisNativeVoices,speechSynthesisText:e.speechSynthesisText,speechSynthesisVoiceURI:e.speechSynthesisVoiceURI}})),n=t.speechSynthesisNativeVoices,a=t.speechSynthesisText,i=t.speechSynthesisVoiceURI,s=Object(o.b)(),c=Object(r.useCallback)((function(e){return s(ve(e))}),[s]);return Object(p.jsx)(v,{disabled:(e=a,ge.test(e)||Oe.test(e)||!n.length),onChange:c,value:i||"",children:n.map((function(e){var t=e.name,n=e.voiceURI;return Object(p.jsx)(b,{text:t,value:n},n)}))})},we=function(){var e=Object(o.c)((function(e){return{ponyfillType:e.ponyfillType,speechSynthesisDeploymentId:e.speechSynthesisDeploymentId,speechSynthesisVoiceURI:e.speechSynthesisVoiceURI}})),t=e.ponyfillType,n=e.speechSynthesisDeploymentId,a=e.speechSynthesisVoiceURI,i=Object(o.b)(),s=Object(r.useCallback)((function(e){var t=e.target.value;return i(ve(t))}),[i]),c=h(t);return Object(p.jsx)("input",{className:"form-control",disabled:!c.customVoice||!n,onChange:s,type:"text",value:a})},ke=function(){var e=Object(o.c)((function(e){return!!e.speechSynthesisNativeVoices.length}));return Object(p.jsxs)("div",{children:[Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("label",{children:"Text to synthesis"}),Object(p.jsx)(ye,{})]})}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("label",{children:"Deployment ID"}),Object(p.jsx)(pe,{})]})}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col col-md-9",children:e?Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("label",{children:"Voice"}),Object(p.jsx)(xe,{})]}):Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("label",{children:"Voice URI"}),Object(p.jsx)(we,{})]})}),Object(p.jsxs)("div",{className:"col col-md-3",children:[Object(p.jsx)("label",{children:"Output format"}),Object(p.jsx)(fe,{})]})]})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(ue,{})})}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(me,{})})})]})},Se="SET_NAV_PANE";function Ee(e){return"speech synthesis"!==e&&(e="speech recognition"),{type:Se,payload:{navPane:e}}}c.css.global("button.nav-link",{backgroundColor:"Transparent"});var Ae=function(){var e=Object(o.c)((function(e){return{authorizationToken:e.authorizationToken,navPane:e.navPane,ponyfill:e.ponyfill,ponyfillType:e.ponyfillType}})),t=e.authorizationToken,n=e.navPane,a=e.ponyfill,i=e.ponyfillType,s=Object(o.b)(),c=Object(r.useCallback)((function(e){e.preventDefault(),s(Ee("speech recognition"))}),[s]),u=Object(r.useCallback)((function(e){e.preventDefault(),s(Ee("speech synthesis"))}),[s]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"jumbotron",children:[Object(p.jsx)("h1",{className:"display-4",children:"web-speech-cognitive-services"}),Object(p.jsx)("p",{className:"lead",children:"Ponyfills for Web Speech API using Cognitive Services Speech Services"})]}),Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("form",{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"form-group col-sm-3",children:[Object(p.jsx)("label",{children:"API provider"}),Object(p.jsx)(m,{})]}),Object(p.jsxs)("div",{className:"form-group col-sm-2",children:[Object(p.jsx)("label",{children:"Region"}),Object(p.jsx)(O,{})]}),Object(p.jsxs)("div",{className:"form-group col",children:[Object(p.jsx)("label",{children:t?"Authorization token":"Subscription key"}),Object(p.jsx)(A,{})]})]})})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col",children:[Object(p.jsxs)("ul",{className:"nav nav-tabs",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("button",{className:l()("nav-link",{active:"speech recognition"===n}),onClick:c,type:"button",children:"Speech recognition"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("button",{className:l()("nav-link",{active:"speech synthesis"===n}),onClick:u,type:"button",children:"Speech synthesis"})})]}),Object(p.jsx)("br",{})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col",children:!!a&&("speech synthesis"===n?Object(p.jsx)(ke,{ponyfill:a},i):Object(p.jsx)(ee,{ponyfill:a},i))})}),Object(p.jsx)(f,{owner:"compulim",repo:"web-speech-cognitive-services"})]})]})},Ve=n(218),Re=n(40),Ne=n(217),Te=n(212),Ce=n.n(Te);var _e="SET_PONYFILL";function Pe(e){return{type:_e,payload:{ponyfill:e}}}var Ie="ADD_SPEECH_RECOGNITION_EVENT";function Ue(e){for(var t={type:e.type},n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(n){t[n]=e[n]})),t}function ze(e){var t;switch(e.type){case"error":t=Ue(e,"error","message");break;case"nomatch":case"result":(t=Ue(e,"emma","interpretation","resultIndex")).results={length:e.results.length},t.results=[].reduce.call(e.results,(function(e,t,n){return e[n]=[].reduce.call(t,(function(e,t,n){var r=t.confidence,a=t.transcript;return e[n]={confidence:r,transcript:a},e}),{isFinal:t.isFinal,length:t.length}),e}),{length:e.results.length}),[].forEach.call(e.results,(function(e,n){var r=t.results[n]={isFinal:e.isFinal,length:e.length};[].forEach.call(e,(function(e,t){r[t]={confidence:e.confidence,transcript:e.transcript}}))}));break;case"cognitiveservices":t={data:e.data,type:"cognitiveservices"};break;default:t=Ue(e)}return{type:Ie,payload:{event:t}}}var Fe="SET_SPEECH_SYNTHESIS_NATIVE_VOICES";var De=n(213),He=n.n(De),Me="ADD_SPEECH_SYNTHESIS_NATIVE_UTTERANCE";function Ke(e){return{type:Me,payload:{nativeUtterance:e}}}var Le="ADD_SPEECH_SYNTHESIS_NATIVE_UTTERANCE_EVENT";function Ge(e,t){return{type:Le,payload:{event:t,utteranceID:e}}}function Be(e){return{charIndex:e.charIndex,elapsedTime:e.elapsedTime,name:e.name,type:e.type}}var We=Object(Re.b)({browserSupportedSpeechRecognition:function(){return!(!window.SpeechRecognition&&!window.webkitSpeechRecognition)},enableTelemetry:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===y?n.enableTelemetry:e},navPane:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"speech recognition",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===Se?n.navPane:e},onDemandAuthorizationToken:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===w&&(e="boolean"===typeof n.onDemand?n.onDemand:!e),e},ponyfill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===_e?n.ponyfill:e},ponyfillType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"speechservices:npm",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;if(r===j)switch(n.ponyfillType){case"browser":e="browser";break;case"speechservices:bundle":e="speechservices:bundle";break;default:e="speechservices:npm"}return e},region:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"westus",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===g&&(e=n.region),e},speechRecognitionContinuous:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===M&&(e=n.continuous),e},speechRecognitionDelayedStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===L&&(e=n.delay),e},speechRecognitionEndpointId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===R&&(e=n.endpointId),e},speechRecognitionEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case Ie:return[].concat(Object(se.a)(e),[n.event]);case D:return[];default:return e}},speechRecognitionInterimResults:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===B&&(e=n.interimResults),e},speechRecognitionLanguage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case T:return n.language;default:return e}},speechRecognitionMaxAlternatives:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===Y?n.maxAlternatives:e},speechRecognitionPhrases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Bellevue","Redmond"],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===J?n.phrases:e},speechRecognitionReferenceGrammars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===q?n.referenceGrammars:e},speechRecognitionStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case I:return!1;case U:return!0;case z:return!1;default:return e}},speechRecognitionTextNormalization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"display",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===_&&(e=n.textNormalization),e},speechServicesAuthorizationToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===k?n.authorizationToken:e},speechServicesSubscriptionKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===E&&(e=n.subscriptionKey),e},speechSynthesisDeploymentId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===le&&(e=n.deploymentId),e},speechSynthesisNativeVoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===Fe?n.voices:e},speechSynthesisOutputFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"audio-24khz-160kbitrate-mono-mp3",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===de?n.outputFormat:e},speechSynthesisText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===he?n.text:e},speechSynthesisUtterances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;if(r===Me){var a=n.nativeUtterance,i=a.id,s=a.text,o=a.voice;return[].concat(Object(se.a)(e),[{events:[],id:i,text:s,voice:o&&{name:o.name,voiceURI:o.voiceURI}}])}if(r===Le){var c=n.event,u=n.utteranceID;return He()(e,[function(e){return e.id===u},"events"],(function(e){return[].concat(Object(se.a)(e),[Be(c)])}))}return r===ne?[]:e},speechSynthesisVoiceURI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===be?n.voiceURI:e}}),Ye=n(5),Je=n.n(Ye),qe=n(4),Qe=n(87),Xe=n.n(Qe),Ze=Je.a.mark($e);function $e(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.j)(x,Je.a.mark((function e(){var t,n,r,a;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(qe.g)();case 3:return t=e.sent,n=t.region,r=t.speechServicesSubscriptionKey,e.next=8,Object(qe.a)(Qe.fetchAuthorizationToken,{region:n,subscriptionKey:r});case 8:return a=e.sent,e.next=11,Object(qe.e)(S(a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));case 2:case"end":return e.stop()}}),Ze)}var et=n(88),tt=n(64),nt=function(e){return rt.apply(this,arguments)};function rt(){return(rt=Object(et.a)(Je.a.mark((function e(t){var n,r,a,i;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.region,r=t.subscriptionKey,a=t.tokenURL,r){e.next=5;break}throw new Error('web-speech-cognitive-services: "subscriptionKey" must be specified.');case 5:if(n||a){e.next=9;break}throw new Error('web-speech-cognitive-services: Either "region" or "tokenURL" must be specified.');case 9:if(!n||!a){e.next=11;break}throw new Error('web-speech-cognitive-services: Only either "region" or "tokenURL" can be specified.');case 11:return e.next=13,fetch(a||"https://".concat(encodeURI(n),".api.cognitive.microsoft.com/sts/v1.0/issueToken"),{headers:{"Ocp-Apim-Subscription-Key":r},method:"POST"});case 13:if((i=e.sent).ok){e.next=16;break}throw new Error("Failed to fetch authorization token, server returned ".concat(i.status));case 16:return e.abrupt("return",i.text());case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at=Je.a.mark(st),it=Je.a.mark(ot);function st(){var e,t,n,r,a,i,s,o,c,u,l,p,d,f,h;return Je.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Object(qe.g)();case 2:if(e=b.sent,t=e.enableTelemetry,n=e.onDemandAuthorizationToken,r=e.ponyfillType,a=e.region,i=e.speechRecognitionEndpointId,s=e.speechRecognitionReferenceGrammars,o=e.speechRecognitionTextNormalization,c=e.speechServicesAuthorizationToken,u=e.speechServicesSubscriptionKey,l=e.speechSynthesisDeploymentId,p=e.speechSynthesisOutputFormat,"browser"!==r){b.next=19;break}return b.next=17,Object(qe.e)(Pe({SpeechGrammarList:window.SpeechGrammarList||window.webkitSpeechGrammarList,SpeechRecognition:window.SpeechRecognition||window.webkitSpeechRecognition,speechSynthesis:window.speechSynthesis,SpeechSynthesisUtterance:window.SpeechSynthesisUtterance}));case 17:b.next=26;break;case 19:if(c||u){b.next=21;break}return b.abrupt("return");case 21:return d={enableTelemetry:t,referenceGrammars:s,region:a,speechRecognitionEndpointId:i,speechSynthesisDeploymentId:l,speechSynthesisOutputFormat:p,textNormalization:o},f="speechservices:bundle"===r?window.WebSpeechCognitiveServices.create:Xe.a,h=f(c?Object(tt.a)(Object(tt.a)({},d),{},{credentials:{authorizationToken:c,region:a}}):Object(tt.a)(Object(tt.a)({},d),{},{credentials:n?Object(et.a)(Je.a.mark((function e(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("On-demand fetching Speech Services authorization token"),e.prev=1,e.next=4,nt({region:a,subscriptionKey:u});case 4:return e.t0=e.sent,e.t1=a,e.abrupt("return",{authorizationToken:e.t0,region:e.t1});case 9:e.prev=9,e.t2=e.catch(1),console.error("Failed to fetch Speech Services authorization token",e.t2);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))):{region:a,subscriptionKey:u}})),b.next=26,Object(qe.e)(Pe(h));case 26:case"end":return b.stop()}}),at)}function ot(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(st(),"t0",1);case 1:return e.next=3,Object(qe.j)((function(e){var t=e.type;return t===y||t===j||t===g||t===q||t===R||t===_||t===k||t===E||t===le||t===de||t===w}),st);case 3:case"end":return e.stop()}}),it)}var ct="SET_SPEECH_RECOGNITION_INSTANCE";function ut(e){return{type:ct,payload:{speechRecognition:e}}}var lt=n(215),pt=function(){var e,t=[];return{push:function(n){if(e){var r=e.resolve;e=null,r(n)}else t.push(n)},shift:function(){return t.length?Promise.resolve(t.shift()):(e||(e=Object(lt.a)())).promise}}},dt=Je.a.mark(ft);function ft(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.a)((function(){return new Promise((function(){}))}));case 2:case"end":return e.stop()}}),dt)}var ht=Je.a.mark(vt),bt=["audiostart","soundstart","speechstart","speechend","soundend","audioend","result","nomatch","error","start","end","cognitiveservices"];function vt(){var e;return Je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=pt(),t.next=3,Object(qe.c)(Je.a.mark((function t(){var n;return Je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(qe.a)(e.shift);case 2:return n=t.sent,t.next=5,Object(qe.e)(ze(n));case 5:t.next=0;break;case 7:case"end":return t.stop()}}),t)})));case 3:return t.next=5,Object(qe.j)(ct,Je.a.mark((function t(n){var r;return Je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.payload.speechRecognition,t.prev=1,bt.forEach((function(t){return r.addEventListener(t,e.push)})),t.next=5,ft();case 5:return t.prev=5,bt.forEach((function(t){return r.removeEventListener(t,e.push)})),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[1,,5,8]])})));case 5:case"end":return t.stop()}}),ht)}var yt=Je.a.mark(gt),jt=Je.a.mark(Ot);function mt(e){return new Promise((function(t){return setTimeout(t,e)}))}function gt(e){var t,n,r,a,i,s,o,c,u,l;return Je.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.getCancelReason,p.next=3,Object(qe.e)(H());case 3:return p.next=5,Object(qe.e)(ze({type:"ui:start"}));case 5:return p.prev=5,p.next=8,Object(qe.g)();case 8:return r=p.sent,a=r.ponyfill.SpeechRecognition,i=r.ponyfillType,s=r.speechRecognitionContinuous,o=r.speechRecognitionInterimResults,c=r.speechRecognitionLanguage,u=r.speechRecognitionMaxAlternatives,l=r.speechRecognitionPhrases,(n=new a).continuous=s,n.grammars.phrases=l,n.interimResults=o,n.lang=c,h(i).maxAlternatives&&(n.maxAlternatives=u),p.next=25,Object(qe.e)(ut(n));case 25:return p.next=27,Object(qe.a)((function(){return new Promise((function(e){n.addEventListener("error",e),n.addEventListener("end",e),n.start()}))}));case 27:return p.prev=27,n&&("abort"===t()?n.abort():n.stop()),p.finish(27);case 30:case"end":return p.stop()}}),yt,null,[[5,,27,30]])}function Ot(){var e;return Je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Je.a.mark((function e(){var t,n,r,a,i,s;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.next=3,Object(qe.h)(U);case 3:return e.next=5,Object(qe.g)();case 5:if(n=e.sent,!n.speechRecognitionDelayedStart){e.next=10;break}return e.next=10,Object(qe.a)(mt,2e3);case 10:return e.next=12,Object(qe.c)(gt,{getCancelReason:function(){return t}});case 12:return r=e.sent,e.next=15,Object(qe.f)({abort:Object(qe.h)(I),stop:Object(qe.h)(z),taskCompleted:Object(qe.d)(r)});case 15:if(a=e.sent,i=a.abort,s=a.stop,!i&&!s){e.next=33;break}if(!i){e.next=25;break}return e.next=22,Object(qe.e)(ze({type:"ui:abort"}));case 22:t="abort",e.next=29;break;case 25:if(!s){e.next=29;break}return e.next=28,Object(qe.e)(ze({type:"ui:stop"}));case 28:t="stop";case 29:return e.next=31,Object(qe.b)(r);case 31:e.next=35;break;case 33:return e.next=35,Object(qe.e)(F());case 35:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",2);case 2:t.next=1;break;case 4:case"end":return t.stop()}}),jt)}var xt=Je.a.mark(wt);function wt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.i)(te,Je.a.mark((function e(){var t,n,r;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.g)();case 2:t=e.sent,n=t.ponyfill,(r=(n=void 0===n?{}:n).speechSynthesis)&&r.cancel();case 7:case"end":return e.stop()}}),e)})));case 2:return e.next=4,Object(qe.i)(re,Je.a.mark((function e(){var t,n,r;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.g)();case 2:t=e.sent,n=t.ponyfill,(r=(n=void 0===n?{}:n).speechSynthesis)&&r.pause();case 7:case"end":return e.stop()}}),e)})));case 4:return e.next=6,Object(qe.i)(ae,Je.a.mark((function e(){var t,n,r;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.g)();case 2:t=e.sent,n=t.ponyfill,(r=(n=void 0===n?{}:n).speechSynthesis)&&r.resume();case 7:case"end":return e.stop()}}),e)})));case 6:case"end":return e.stop()}}),xt)}var kt=Je.a.mark(St);function St(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.i)(_e,Je.a.mark((function e(t){var n,r,a;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload.ponyfill,r=(n=void 0===n?{}:n).speechSynthesis){e.next=5;break}return e.abrupt("return");case 5:a=pt(),e.prev=6,r&&r.addEventListener("voiceschanged",a.push),a.push();case 9:return e.next=11,Object(qe.a)(a.shift);case 11:return e.next=13,Object(qe.e)((i=r.getVoices(),{type:Fe,payload:{voices:i}}));case 13:e.next=9;break;case 15:return e.prev=15,r&&r.removeEventListener("voiceschanged",a.push),e.finish(15);case 18:case"end":return e.stop()}var i}),e,null,[[6,,15,18]])})));case 2:case"end":return e.stop()}}),kt)}var Et=Je.a.mark(At);function At(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.i)(ie,Je.a.mark((function e(t){var n,r,a,i,s,o,c,u,l,p;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.utterance,r=n.text,a=n.voiceURI,e.next=4,Object(qe.g)();case 4:return i=e.sent,s=i.ponyfill,o=s.speechSynthesis,c=s.SpeechSynthesisUtterance,u=i.speechSynthesisNativeVoices,(l=new c(r)).id=Math.random().toString(36).substr(2),p=u.find((function(e){return e.voiceURI===a})),l.voice=p||{voiceURI:a},e.next=15,Object(qe.e)(Ke(l));case 15:o.speak(l);case 16:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Et)}var Vt=Je.a.mark(Nt),Rt=["boundary","end","error","mark","pause","resume","start"];function Nt(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.i)(Me,Je.a.mark((function e(t){var n,r,a,i,s;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.payload.nativeUtterance,r=pt(),e.prev=2,Rt.forEach((function(e){return n.addEventListener(e,r.push)}));case 4:return e.next=6,Object(qe.f)({clear:Object(qe.h)(ne),event:Object(qe.a)(r.shift)});case 6:if(a=e.sent,i=a.clear,s=a.event,!i){e.next=13;break}return e.abrupt("break",20);case 13:if(!s){e.next=18;break}return e.next=16,Object(qe.e)(Ge(n.id,s));case 16:if("end"!==s.type&&"error"!==s.type){e.next=18;break}return e.abrupt("break",20);case 18:e.next=4;break;case 20:return e.prev=20,Rt.forEach((function(e){return n.removeEventListener(e,r.push)})),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,,20,23]])})));case 2:case"end":return e.stop()}}),Vt)}var Tt=Je.a.mark(Ct);function Ct(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.c)($e);case 2:return e.next=4,Object(qe.c)(ot);case 4:return e.next=6,Object(qe.c)(vt);case 6:return e.next=8,Object(qe.c)(Ot);case 8:return e.next=10,Object(qe.c)(wt);case 10:return e.next=12,Object(qe.c)(St);case 12:return e.next=14,Object(qe.c)(At);case 14:return e.next=16,Object(qe.c)(Nt);case 16:case"end":return e.stop()}}),Tt)}var _t=["authorizationToken","ponyfill","speechRecognitionStarted","speechServicesAuthorizationToken","speechSynthesisNativeVoices"];var Pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ut=function(){var e=function(){var e=Ce()((function(){return JSON.parse(window.sessionStorage.getItem("REDUX_STORE"))}))||{},t=new URLSearchParams(window.location.search),n=t.get("ss"),r=t.get("r");return n&&(e.speechServicesSubscriptionKey=n),r&&(e.region=r),e}(),t=Object(Ne.a)(),n=Object(Re.d)(We,e,Object(Re.a)(t));return t.run(Ct),n.subscribe((function(){var e=n.getState(),t=(e.authorizationToken,e.ponyfill,e.speechRecognitionStarted,e.speechServicesAuthorizationToken,e.speechSynthesisNativeVoices,Object(Ve.a)(e,_t));window.sessionStorage.setItem("REDUX_STORE",JSON.stringify(t))})),n}();s.a.render(Object(p.jsx)(o.a,{store:Ut,children:Object(p.jsx)(Ae,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/web-speech-cognitive-services",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/web-speech-cognitive-services","/service-worker.js");Pt?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):It(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):It(e)}))}}()},87:function(e,t,n){"use strict";var r=n(12),a=n(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=p(p({},s.default.apply(void 0,[e].concat(n))),o.default.apply(void 0,[e].concat(n)));return p(p({},a),{},{then:function(e){console.warn("web-speech-cognitive-services: This function no longer need to be called in an asynchronous fashion. Please update your code. We will remove this Promise.then function on or after 2020-08-10."),e(a)}})},Object.defineProperty(t,"createSpeechRecognitionPonyfill",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createSpeechRecognitionPonyfillFromRecognizer",{enumerable:!0,get:function(){return s.createSpeechRecognitionPonyfillFromRecognizer}}),Object.defineProperty(t,"createSpeechSynthesisPonyfill",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"fetchAuthorizationToken",{enumerable:!0,get:function(){return c.default}});var i=r(n(42)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(257)),o=r(n(503)),c=r(n(519));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=document.createElement("meta");d.setAttribute("name","web-speech-cognitive-services"),d.setAttribute("content","version=".concat("7.1.1-master.48635b3")),document.head.appendChild(d)}},[[559,1,2]]]);
//# sourceMappingURL=main.28a7b9e3.chunk.js.map